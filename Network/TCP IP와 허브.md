# IP
전세계에서 유일한 주소 
* IPv4는 32비트 
* 8비트 씩 끊어서 십진수로 표현 (10.0.0.1)

IP는 개수가 정해져 있기 때문에 점점 고갈되기 시작하여 128비트 길이의 IPv6가 나왔지만 잘 보급되지 않고 있다.
그 이유는 대부분 사설 IP로 내부 네트워크를 구축하여 사용하고 있기 때문에 추가 IP를 할당 받을 필요가 없어졌기 때문이다. 
* 공인 IP 
	* IP 관리 기관으로부터 할당받아야 사용할 수 있다
* 사설 IP
	* 내부 네트워크 망 안에서 만 사용할 수 있는 IP 주소
	* 외부 네트워크와 통신하기 위해서는 NAT를 통해야 한다

> [!사설 IP 대역]
> • **A 클래스:** 10.0.0.0 ~ 10.255.255.255
> • **B 클래스:** 172.16.0.0 ~ 172.31.255.255
> • **C 클래스:** 192.168.0.0 ~ 192.168.255.255

> [!NAT]
> 사설 IP로는 외부 네트워크와 통신을 하지 못하기 때문에 외부 네트워크와 통신을 할때는 IP를 하나의 공인 IP로 바꾸어 통신한다. 
> 즉, 라우터 같은 장비가 외부 네트워크로 나가는 요청을 받았다면 소스 IP 주소를 공인 IP (라우터 주소)로 변환하여 외부에서는 라우터 IP와 통신해주게 된다. 

# DHCP
고정 IP를 사용하는 게 아니라 호스트가 네트워크에 접속하면 IP 주소, 게이트웨이 주소 등과 같이 네트워크 접속에 필요한 정보들을 보내주어 자동 구성을 할 수 있도록 도와주는 프로토콜이다.

일반적으로 공유기를 사용할 때 공유기가 DHCP 서버 역할을 하여 각 호스트에 IP를 할당한다.
DHCP는 DORA 과정으로 진행된다
* Discover
	* 새로 연결된 호스트는 DHCP 서버를 찾기 위해 브로드캐스트를 보낸다
* Offer
	* Discover 요청을 받은 서버는 IP 주소를 할당하여 해당 호스트로 응답한다
* Request
	* Offer로 받은 IP에 대한 확인 메시지를 보낸다
* Acknowledge
	* 최종적으로 해당 IP에 대한 ACK을 보낸다 


# 허브
허브는 OSI L1에 속하는 장비로 각 포트로 들어오는 전기 신호를 증폭 시켜 나머지 포트로 전달하는 역할을 한다.(멀티 포트 리피터)
이는 Bus Topology 방식의 네트워크를 자주 쓰던 시절 먼 거리의 호스트 까지 네트워크를 연결해주기 위해 주로 사용되었다. 

이런 방식은 각 호스트가 자신에게 온 프레임이 아닌데도 받게된다. 그래서 nic에서는 자신에게 온 프레임이 아니면 해당 프레임을 버리고 자신에게 온 프레임만 CPU에게 전달한다.

# Collision Domain
허브와 연결되어 있는 장비는 하나의 Collision Domain에 묶이게 된다.
허브는 flooding을 통해 무조건 모든 포트로 프레임을 뿌리기 때문에 결국 연장된 Bus Topology의 형태를 가지기 때문이다.

물론 CSMA/CD를 통해 이더넷이 Collision Detection과 backoff를 통해서 알아서 잘 보내주겠지만 네트워크의 모든 장비 (100 ~ 200 대의 서버?)를 허브로 연결한다면 결국 계속 충돌이 발생하여 네트워크를 사용할 수 없는 상황 까지 발생할 수 있다.

이런 문제점을 해결하기 위해 Collision Domain을 나눠주는 스위치라는 장비가 등장하기 시작했다 



