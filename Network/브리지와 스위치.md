# 브리지
* 네트워크 허브는 단순 "멀티 포트 리피터"이다
* 데이터가 들어오면 그냥 모든 포트로 흘려준다
* Collision Domain을 나누지 못한다

네트워크가 점점 커진다면 성능을 위해 Collision Domain을 나눠줄 필요가 있다
Collision Domain을 나눠주는 역할을 하는 것이 브리지/스위치이다
브리지와 스위치는 내부 구현 방식의 차이가 있지만 결국 하는 일은 동일하다
브리지/스위치는 MAC 주소를 보고 Collision Domain을 나눠준다

# 브리지/스위치 기능
1. Learning
	* 브리지는 MAC 주소 테이블을 유지한다 (어떤 포트에 어떤 MAC 주소가 살고있는지)
	* 최초에 특정 MAC 주소로 부터 데이터를 받으면 MAC 주소 테이블에 기록한다
2. Flooding
	* 브리지는 데이터가 들어오면 목적지로 보내주어야 한다
	* 목적지 MAC 주소를 아직 모르는 경우에는 모든 포트로 보내준다
3. Forwarding
	* 데이터가 들어왔을 때 목적지 MAC 주소를 아는 경우에는 해당 포트로만 전달한다
4. Filtering
	* 목적지 MAC 주소와 출발지 MAC 주소가 같은 포트에 있는 경우에는 아무런 포트로 전달하지 않는다
5. Aging
	* MAC 주소 테이블은 일정 timeout 시간이 지나면 사라진다
	* timeout 이전에 한 번이라도 데이터가 들어오면 timeout은 초기화된다

# 브리지 vs 스위치
|       | 스위치                             | 브리지               |
| ----- | ------------------------------- | ----------------- |
| 처리방식  | 하드웨어                            | 소프트웨어             |
| 포트 수  | 많다                              | 적다                |
| 포트 속도 | 포트 마다 다른 속도                     | 동일한 속도            |
| 방식    | cut-through / store-and-forward | store-and-forward |
### cut-through
* 스위치가 들어오는 프레임의 목적지 주소 (프레임 중 가장 먼저 들어온다)만 본 후 바로 전송 처리를 시작
* 프레임을 다 기다리지 않아 빠르다
* 에러 발생 시 복구 비용이 크다
### store-and-forward
* 스위치가 들어오는 프레임 전체를 받은 후 처리를 시작하는 방식
* 프레임을 받고 에러 체크까지 하기 때문에 느리다
* 에러 복구 비용이 상대적으로 작다

하드웨어 성능이 점점 빨라지면서 cut-through 방식이 store-and-forward 방식과 큰 차이가 나지 않게 되면서 store-and-forward를 많이 사용하는 추세라고 한다

